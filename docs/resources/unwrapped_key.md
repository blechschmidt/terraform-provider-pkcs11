---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "pkcs11_unwrapped_key Resource - pkcs11"
subcategory: ""
description: |-
  Unwraps (imports) encrypted key material onto a PKCS#11 token using C_UnwrapKey. For standard mechanisms (e.g. CKM_AES_KEY_WRAP), provide a template with the desired attributes (label, class, key_type, etc.). For vendor-specific mechanisms that embed attributes in the wrapped blob, the template can be omitted.
---

# pkcs11_unwrapped_key (Resource)

Unwraps (imports) encrypted key material onto a PKCS#11 token using C_UnwrapKey. For standard mechanisms (e.g. CKM_AES_KEY_WRAP), provide a template with the desired attributes (label, class, key_type, etc.). For vendor-specific mechanisms that embed attributes in the wrapped blob, the template can be omitted.

## Example Usage

```terraform
# Unwrap (import) a previously wrapped AES key
resource "pkcs11_unwrapped_key" "imported" {
  mechanism            = "CKM_AES_KEY_WRAP"
  unwrapping_key_label = "my-wrapping-key"
  wrapped_key_material = var.wrapped_key_material

  # Template attributes for the unwrapped key
  label     = "imported-key"
  class     = "CKO_SECRET_KEY"
  key_type  = "CKK_AES"
  encrypt   = true
  decrypt   = true
  token     = true
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `mechanism` (String) Unwrapping mechanism name (e.g., CKM_AES_KEY_WRAP). Accepts name with or without CKM_ prefix, or numeric value.
- `unwrapping_key_label` (String) Label of the unwrapping key on the token.
- `wrapped_key_material` (String, Sensitive) The wrapped (encrypted) key material, base64-encoded.

### Optional

- `ac_issuer` (String) PKCS#11 attribute ac_issuer (base64-encoded).
- `always_authenticate` (Boolean) PKCS#11 attribute always_authenticate. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `always_sensitive` (Boolean) PKCS#11 attribute always_sensitive. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `application` (String) PKCS#11 attribute application. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `attr_types` (String) PKCS#11 attribute attr_types (base64-encoded).
- `base` (String) PKCS#11 attribute base (hex-encoded).
- `bits_per_pixel` (Number) PKCS#11 attribute bits_per_pixel. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `certificate_category` (Number) PKCS#11 attribute certificate_category. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `certificate_type` (String) PKCS#11 attribute certificate_type. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `char_columns` (Number) PKCS#11 attribute char_columns. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `char_rows` (Number) PKCS#11 attribute char_rows. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `char_sets` (String) PKCS#11 attribute char_sets (base64-encoded).
- `check_value` (String) PKCS#11 attribute check_value (base64-encoded).
- `class` (String) PKCS#11 attribute class. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `coefficient` (String, Sensitive) PKCS#11 attribute coefficient (hex-encoded).
- `color` (Boolean) PKCS#11 attribute color. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `copyable` (Boolean) PKCS#11 attribute copyable. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `decrypt` (Boolean) PKCS#11 attribute decrypt. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `default_cms_attributes` (String) PKCS#11 attribute default_cms_attributes (base64-encoded).
- `derive` (Boolean) PKCS#11 attribute derive. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `destroyable` (Boolean) PKCS#11 attribute destroyable. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `ec_params` (String) PKCS#11 attribute ec_params (base64-encoded).
- `ec_point` (String) PKCS#11 attribute ec_point (base64-encoded).
- `encoding_methods` (String) PKCS#11 attribute encoding_methods (base64-encoded).
- `encrypt` (Boolean) PKCS#11 attribute encrypt. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `end_date` (String) PKCS#11 attribute end_date (base64-encoded).
- `exponent_1` (String, Sensitive) PKCS#11 attribute exponent_1 (hex-encoded).
- `exponent_2` (String, Sensitive) PKCS#11 attribute exponent_2 (hex-encoded).
- `extractable` (Boolean) PKCS#11 attribute extractable. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `gost28147_params` (String) PKCS#11 attribute gost28147_params (base64-encoded).
- `gostr3410_params` (String) PKCS#11 attribute gostr3410_params (base64-encoded).
- `gostr3411_params` (String) PKCS#11 attribute gostr3411_params (base64-encoded).
- `has_reset` (Boolean) PKCS#11 attribute has_reset. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `hash_of_issuer_public_key` (String) PKCS#11 attribute hash_of_issuer_public_key (base64-encoded).
- `hash_of_subject_public_key` (String) PKCS#11 attribute hash_of_subject_public_key (base64-encoded).
- `hw_feature_type` (Number) PKCS#11 attribute hw_feature_type. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `issuer` (String) PKCS#11 attribute issuer (base64-encoded).
- `java_midp_security_domain` (Number) PKCS#11 attribute java_midp_security_domain. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `key_gen_mechanism` (String) PKCS#11 attribute key_gen_mechanism. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `key_id` (String) PKCS#11 attribute key_id (base64-encoded).
- `key_type` (String) PKCS#11 attribute key_type. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `label` (String) PKCS#11 attribute label. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `local` (Boolean) PKCS#11 attribute local. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `mechanism_type` (String) PKCS#11 attribute mechanism_type. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `mime_types` (String) PKCS#11 attribute mime_types (base64-encoded).
- `modifiable` (Boolean) PKCS#11 attribute modifiable. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `modulus` (String) PKCS#11 attribute modulus (hex-encoded).
- `modulus_bits` (Number) PKCS#11 attribute modulus_bits. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `name_hash_algorithm` (Number) PKCS#11 attribute name_hash_algorithm. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `never_extractable` (Boolean) PKCS#11 attribute never_extractable. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `object_id` (String) PKCS#11 attribute object_id (base64-encoded).
- `otp_challenge_requirement` (Number) PKCS#11 attribute otp_challenge_requirement. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_counter` (String) PKCS#11 attribute otp_counter (base64-encoded).
- `otp_counter_requirement` (Number) PKCS#11 attribute otp_counter_requirement. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_format` (Number) PKCS#11 attribute otp_format. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_length` (Number) PKCS#11 attribute otp_length. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_pin_requirement` (Number) PKCS#11 attribute otp_pin_requirement. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_service_identifier` (String) PKCS#11 attribute otp_service_identifier. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_service_logo` (String) PKCS#11 attribute otp_service_logo (base64-encoded).
- `otp_service_logo_type` (String) PKCS#11 attribute otp_service_logo_type. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_time` (String) PKCS#11 attribute otp_time (base64-encoded).
- `otp_time_interval` (Number) PKCS#11 attribute otp_time_interval. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_time_requirement` (Number) PKCS#11 attribute otp_time_requirement. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_user_friendly_mode` (Boolean) PKCS#11 attribute otp_user_friendly_mode. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `otp_user_identifier` (String) PKCS#11 attribute otp_user_identifier. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `owner` (String) PKCS#11 attribute owner (base64-encoded).
- `pixel_x` (Number) PKCS#11 attribute pixel_x. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `pixel_y` (Number) PKCS#11 attribute pixel_y. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `prime` (String) PKCS#11 attribute prime (hex-encoded).
- `prime_1` (String, Sensitive) PKCS#11 attribute prime_1 (hex-encoded).
- `prime_2` (String, Sensitive) PKCS#11 attribute prime_2 (hex-encoded).
- `prime_bits` (Number) PKCS#11 attribute prime_bits. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `private_exponent` (String, Sensitive) PKCS#11 attribute private_exponent (hex-encoded).
- `private_flag` (Boolean) PKCS#11 attribute private_flag. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `public_exponent` (String) PKCS#11 attribute public_exponent (hex-encoded).
- `public_key_info` (String) PKCS#11 attribute public_key_info (base64-encoded).
- `required_cms_attributes` (String) PKCS#11 attribute required_cms_attributes (base64-encoded).
- `reset_on_init` (Boolean) PKCS#11 attribute reset_on_init. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `resolution` (Number) PKCS#11 attribute resolution. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `sensitive` (Boolean) PKCS#11 attribute sensitive. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `serial_number` (String) PKCS#11 attribute serial_number (base64-encoded).
- `sign` (Boolean) PKCS#11 attribute sign. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `sign_recover` (Boolean) PKCS#11 attribute sign_recover. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `start_date` (String) PKCS#11 attribute start_date (base64-encoded).
- `subject` (String) PKCS#11 attribute subject (base64-encoded).
- `subprime` (String) PKCS#11 attribute subprime (hex-encoded).
- `subprime_bits` (Number) PKCS#11 attribute subprime_bits. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `supported_cms_attributes` (String) PKCS#11 attribute supported_cms_attributes (base64-encoded).
- `token` (Boolean) PKCS#11 attribute token. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `trusted` (Boolean) PKCS#11 attribute trusted. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `unwrap` (Boolean) PKCS#11 attribute unwrap. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `unwrapping_key_class` (String) Object class of the unwrapping key (default: CKO_SECRET_KEY).
- `url` (String) PKCS#11 attribute url. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `value` (String, Sensitive) PKCS#11 attribute value (base64-encoded).
- `value_bits` (Number) PKCS#11 attribute value_bits. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `value_len` (Number) PKCS#11 attribute value_len. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `verify` (Boolean) PKCS#11 attribute verify. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `verify_recover` (Boolean) PKCS#11 attribute verify_recover. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `wrap` (Boolean) PKCS#11 attribute wrap. Can be set to provide an unwrap template, or left empty to be determined by the HSM.
- `wrap_with_trusted` (Boolean) PKCS#11 attribute wrap_with_trusted. Can be set to provide an unwrap template, or left empty to be determined by the HSM.

### Read-Only

- `id` (String) Composite resource identifier (label/key_id_hex/CKO_CLASS_NAME).
